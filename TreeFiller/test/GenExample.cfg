# $Id: GenExample.cfg,v 1.5 2008/07/01 21:11:48 loizides Exp $

process Gen =
{
    # request 100 events, which is very fast for testing
    untracked PSet maxEvents = { untracked int32 input = 100 }

    #include "FWCore/MessageService/data/MessageLogger.cfi"
    service = MessageLogger
    {
        untracked vstring destinations =  {}
    }

    include "Configuration/StandardSequences/data/SimulationRandomNumberGeneratorSeeds.cff"
    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"
    
    # make a minimal but valid parameter set for pythia
    source = PythiaSource 
    { 
        untracked int32  pythiaPylistVerbosity = 0
        untracked bool   pythiaHepMCVerbosity  = false
        untracked int32  maxEventsToPrint      = 0  
        untracked double filterEfficiency      = 1.
	
        PSet PythiaParameters = {
            vstring parameterSets = {
            }
        }
    }
    
    # load generator sequence (VtxSmeared is needed inside, missing dependence)
    include "Configuration/StandardSequences/data/VtxSmearedBetafuncEarlyCollision.cff"
    include "Configuration/StandardSequences/data/Generator.cff"
    
    # define the object service
    service = ObjectService {}

    # define the tree service
    service = TreeService { 
        untracked vstring fileNames   = { "mit-gen" }
    }
    
    # customize the MIT filler
    module MitTreeFiller = FillMitTree {
        untracked bool defactive = false
    	untracked PSet GenParts = {
		untracked bool active = true
		untracked string mitName = "GenParticles"
		untracked string edmName = "source"
	}
    }
  
    # standard path of action of the module
    path p0 = { pgen, MitTreeFiller } 
    
    # also make Edm output for the events we generate
    include "Configuration/EventContent/data/EventContent.cff"
    module FEVT = PoolOutputModule
    {
        using FEVTSIMEventContent
        untracked string fileName = "edm-gen.root"
    }
    
    # output path for the Edm file
    endpath outpath = { FEVT }
    
    # schedule the various path
    schedule = { p0, outpath }
}
