# $Id: GenExample.cfg,v 1.2 2008/06/03 07:21:45 paus Exp $

process Gen =
{
    # request 100 events, which is very fast for testing
    untracked PSet maxEvents = { untracked int32 input = 5000 }

    #include "FWCore/MessageService/data/MessageLogger.cfi"
    service = MessageLogger
    {
        untracked vstring destinations =  {}
    }

    include "Configuration/StandardSequences/data/SimulationRandomNumberGeneratorSeeds.cff"
    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"
    
    # make a minimal but valid parameter set for pythia
    source = PythiaSource 
    { 
        untracked int32  pythiaPylistVerbosity = 0
        untracked bool   pythiaHepMCVerbosity  = false
        untracked int32  maxEventsToPrint      = 0  
        untracked double filterEfficiency      = 1.
	
        PSet PythiaParameters = {
            vstring parameterSets = {
            }
        }
    }
    
    # load generator sequence (VtxSmeared is needed inside, missing dependence)
    include "Configuration/StandardSequences/data/VtxSmearedBetafuncEarlyCollision.cff"
    include "Configuration/StandardSequences/data/Generator.cff"
    
    # define the tree service
    service = TreeService { 
        untracked vstring treeNames   = { "MitTree" }
        untracked vstring fileNames   = { "mit-gen" }
        untracked vstring pathNames   = { "." }
        untracked vuint32 maxSizes    = { 1024 }
        untracked vuint32 compLevels  = { 9 }
        untracked vuint32 splitLevels = { 99 }
        untracked vuint32 brSizes     = { 1000 }
    }
    
    # customize the MIT filler
    module MitGenFiller = FillGenParts {
    }
    
    # standard path of action of the module
    path p0 = { pgen, MitGenFiller } 
    
    # also make Edm output for the events we generate
    include "Configuration/EventContent/data/EventContent.cff"
    module FEVT = PoolOutputModule
    {
        using FEVTSIMEventContent
        untracked string fileName = "edm-gen.root"
    }
    
    # output path for the Edm file
    endpath outpath = { FEVT }
    
    # schedule the various path
    schedule = { p0, outpath }
}
